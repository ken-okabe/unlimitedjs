<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
</head>

<body>
  <script type="module">
    import { h, patch } from "https://unpkg.com/superfine/src/index.js";

    import { T } from "https://unpkg.com/timeline-monad/dist/esm/timeline-monad.js";
    import { allThenResetTL } from "https://unpkg.com/timeline-monad/dist/esm/allThenResetTL.js";

    const countTL = T();
    const topNodeTL = countTL.sync(count =>
      h(
        "div",
        null,
        h("p", null, "You clicked ", countTL.now, " times"),
        h("button", {
          onclick: () => (countTL.now = countTL.now + 1)
        }, "Click me")
      )
    );
    const viewNodeTL = topNodeTL.sync(topNode =>
      patch(viewNodeTL.now, topNode, document.body)
    );
    countTL.now = 0;
  </script>
</body>

</html>